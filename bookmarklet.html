<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>å®‰è£…ä¹¦ç­¾è„šæœ¬ â€” ç™¾å€æœºä¼šæ”»ç•¥</title>
<style>
* { box-sizing: border-box; margin: 0; padding: 0; }
body { font-family: -apple-system, 'Noto Sans SC', sans-serif; background: #F4EFE6; color: #1C1917; min-height: 100vh; display: flex; align-items: center; justify-content: center; padding: 24px; }
.card { background: #fff; border-radius: 16px; padding: 40px; max-width: 560px; width: 100%; box-shadow: 0 4px 24px rgba(0,0,0,0.08); }
h1 { font-size: 22px; font-weight: 700; margin-bottom: 8px; }
.sub { font-size: 14px; color: #6A6560; margin-bottom: 32px; line-height: 1.6; }
.step { display: flex; gap: 14px; margin-bottom: 24px; align-items: flex-start; }
.step-num { width: 28px; height: 28px; background: #1C1917; color: #F4EFE6; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 13px; font-weight: 600; flex-shrink: 0; margin-top: 2px; }
.step-body { flex: 1; }
.step-title { font-size: 15px; font-weight: 600; margin-bottom: 4px; }
.step-desc { font-size: 13px; color: #6A6560; line-height: 1.6; }
.bk-btn { display: inline-block; padding: 10px 20px; background: #1C1917; color: #F4EFE6; border-radius: 8px; font-size: 14px; font-weight: 600; text-decoration: none; cursor: grab; }
.drag-hint { font-size: 12px; color: #9E9890; margin-top: 6px; }
.divider { border: none; border-top: 1px solid #EAE5DC; margin: 28px 0; }
.tip { background: #F4EFE6; border-radius: 8px; padding: 14px 16px; font-size: 13px; color: #5A5550; line-height: 1.7; }
.tip strong { color: #1C1917; }
</style>
</head>
<body>
<div class="card">
  <h1>ğŸ“ ä¸€é”®å‘å¸ƒä¹¦ç­¾</h1>
  <p class="sub">åœ¨å¾®ä¿¡å…¬ä¼—å·æ–‡ç« é¡µé¢ç‚¹å‡»ä¹¦ç­¾ï¼Œè‡ªåŠ¨æŠ“å–å†…å®¹å‘å¸ƒåˆ°ä½ çš„ç½‘ç«™ã€‚</p>

  <div class="step">
    <div class="step-num">1</div>
    <div class="step-body">
      <div class="step-title">æ˜¾ç¤ºä¹¦ç­¾æ </div>
      <div class="step-desc">Chrome æŒ‰ <strong>Ctrl+Shift+B</strong>ï¼ˆMac ç”¨ âŒ˜+Shift+Bï¼‰æ˜¾ç¤ºä¹¦ç­¾æ ã€‚</div>
    </div>
  </div>

  <div class="step">
    <div class="step-num">2</div>
    <div class="step-body">
      <div class="step-title">æ‹–æ‹½æŒ‰é’®åˆ°ä¹¦ç­¾æ </div>
      <div class="step-desc">æŠŠä¸‹é¢è¿™ä¸ªæŒ‰é’®ç›´æ¥æ‹–åˆ°æµè§ˆå™¨ä¹¦ç­¾æ å³å¯å®Œæˆå®‰è£…ã€‚</div>
      <div style="margin: 8px 0 4px;">
        <a class="bk-btn" href="javascript:(function(){
  var SUPABASE_URL='https://pmazexeasryqogyfjhbi.supabase.co';
  var SUPABASE_KEY='sb_publishable_JJVVoK8dMkmjAIaklWx4dA_FOTP_7hV';

  // æŠ“æ ‡é¢˜
  var title=(document.querySelector('.rich_media_title')||{innerText:''}).innerText.trim()
    ||document.title.replace(/ - å¾®ä¿¡.*$/,'').trim()||'æœªå‘½åæ–‡ç« ';

  // æŠ“æ­£æ–‡ â€” å…¼å®¹åå°é¢„è§ˆå’Œè¯»è€…é¡µé¢
  var bodyEl=document.querySelector('.rich_media_content')
    ||document.getElementById('js_content');
  if(!bodyEl||!bodyEl.innerHTML.trim()){alert('æœªæ‰¾åˆ°æ–‡ç« æ­£æ–‡ï¼Œè¯·ç­‰é¡µé¢å®Œå…¨åŠ è½½åå†è¯•');return;}

  var clone=bodyEl.cloneNode(true);
  ['script','style','iframe','.wx_tap_card','.weui-panel'].forEach(function(sel){
    clone.querySelectorAll(sel).forEach(function(el){el.remove();});
  });
  var content=clone.innerHTML.trim();

  // æŠ“å°é¢ï¼ˆç¬¬ä¸€å¼ å›¾ï¼‰
  var cover='';
  var firstImg=bodyEl.querySelector('img[data-src],img[src]');
  if(firstImg)cover=firstImg.getAttribute('data-src')||firstImg.getAttribute('src')||'';

  // æŠ“æ—¥æœŸ
  var dateStr='';
  var dateEl=document.getElementById('publish_time')
    ||document.querySelector('.rich_media_meta_text,.post-date');
  if(dateEl){var m=dateEl.innerText.match(/(\d{4}[-\/]\d{1,2}[-\/]\d{1,2})/);if(m)dateStr=m[1].replace(/\//g,'-');}
  if(!dateStr)dateStr=new Date().toISOString().slice(0,10);

  // å¼¹å‡ºç¡®è®¤çª—å£
  var ov=document.createElement('div');
  ov.style.cssText='position:fixed;inset:0;background:rgba(0,0,0,0.7);z-index:99999;display:flex;align-items:center;justify-content:center;font-family:sans-serif;';
  ov.innerHTML='<div style=&quot;background:#fff;border-radius:12px;padding:24px;width:90%;max-width:480px;max-height:80vh;overflow-y:auto;&quot;>'
    +'<h3 style=&quot;margin:0 0 16px;font-size:16px;&quot;>å‘å¸ƒåˆ°ç™¾å€æœºä¼šæ”»ç•¥</h3>'
    +'<div style=&quot;margin-bottom:10px;&quot;><label style=&quot;font-size:12px;color:#666;&quot;>æ ‡é¢˜</label>'
    +'<input id=&quot;bk_title&quot; style=&quot;width:100%;padding:8px;border:1px solid #ddd;border-radius:6px;font-size:14px;box-sizing:border-box;margin-top:4px;&quot;></div>'
    +'<div style=&quot;margin-bottom:10px;&quot;><label style=&quot;font-size:12px;color:#666;&quot;>æ‘˜è¦ï¼ˆé€‰å¡«ï¼‰</label>'
    +'<input id=&quot;bk_summary&quot; placeholder=&quot;ç•™ç©ºåˆ™è‡ªåŠ¨æˆªå–æ­£æ–‡å‰80å­—&quot; style=&quot;width:100%;padding:8px;border:1px solid #ddd;border-radius:6px;font-size:14px;box-sizing:border-box;margin-top:4px;&quot;></div>'
    +'<div style=&quot;margin-bottom:10px;&quot;><label style=&quot;font-size:12px;color:#666;&quot;>æ ‡ç­¾ï¼ˆé€—å·åˆ†éš”ï¼‰</label>'
    +'<input id=&quot;bk_tags&quot; placeholder=&quot;å¦‚ï¼šæŠ•èµ„,AIæ•ˆç‡&quot; style=&quot;width:100%;padding:8px;border:1px solid #ddd;border-radius:6px;font-size:14px;box-sizing:border-box;margin-top:4px;&quot;></div>'
    +'<div style=&quot;margin-bottom:16px;&quot;><label style=&quot;font-size:12px;color:#666;&quot;>æ—¥æœŸ</label>'
    +'<input id=&quot;bk_date&quot; type=&quot;date&quot; style=&quot;width:100%;padding:8px;border:1px solid #ddd;border-radius:6px;font-size:14px;box-sizing:border-box;margin-top:4px;&quot;></div>'
    +'<div style=&quot;display:flex;gap:10px;&quot;>'
    +'<button id=&quot;bk_cancel&quot; style=&quot;flex:1;padding:10px;border:1px solid #ddd;border-radius:6px;background:#f5f5f5;cursor:pointer;font-size:14px;&quot;>å–æ¶ˆ</button>'
    +'<button id=&quot;bk_submit&quot; style=&quot;flex:1;padding:10px;border:none;border-radius:6px;background:#1a1a1a;color:#fff;cursor:pointer;font-size:14px;font-weight:500;&quot;>å‘å¸ƒ</button>'
    +'</div>'
    +'<div id=&quot;bk_msg&quot; style=&quot;margin-top:10px;text-align:center;font-size:13px;color:#666;&quot;></div>'
    +'</div>';
  document.body.appendChild(ov);
  document.getElementById('bk_title').value=title;
  document.getElementById('bk_date').value=dateStr;
  document.getElementById('bk_cancel').onclick=function(){ov.remove();};
  document.getElementById('bk_submit').onclick=function(){
    var t=document.getElementById('bk_title').value.trim();
    if(!t){document.getElementById('bk_msg').textContent='è¯·å¡«å†™æ ‡é¢˜';return;}
    var summary=document.getElementById('bk_summary').value.trim()||content.replace(/<[^>]+>/g,'').slice(0,80).trim();
    var tags=document.getElementById('bk_tags').value.split(',').map(function(s){return s.trim();}).filter(Boolean);
    var date=document.getElementById('bk_date').value||dateStr;
    var btn=document.getElementById('bk_submit');
    btn.textContent='å‘å¸ƒä¸­â€¦';btn.disabled=true;
    fetch(SUPABASE_URL+'/rest/v1/articles',{
      method:'POST',
      headers:{'apikey':SUPABASE_KEY,'Authorization':'Bearer '+SUPABASE_KEY,'Content-Type':'application/json','Prefer':'return=minimal'},
      body:JSON.stringify({title:t,summary:summary,content:content,cover:cover,tags:tags,date:date})
    }).then(function(r){
      if(!r.ok)throw new Error(r.status);
      document.getElementById('bk_msg').style.color='#22a06b';
      document.getElementById('bk_msg').textContent='âœ“ å‘å¸ƒæˆåŠŸï¼';
      setTimeout(function(){ov.remove();},1500);
    }).catch(function(e){
      btn.textContent='å‘å¸ƒ';btn.disabled=false;
      document.getElementById('bk_msg').style.color='#e53e3e';
      document.getElementById('bk_msg').textContent='å‘å¸ƒå¤±è´¥ï¼š'+e.message;
    });
  };
})();">ğŸ“¤ å‘å¸ƒåˆ°ç™¾å€æœºä¼šæ”»ç•¥</a>
      </div>
      <div class="drag-hint">ğŸ‘† æ‹–è¿™ä¸ªæŒ‰é’®åˆ°ä¹¦ç­¾æ </div>
    </div>
  </div>

  <div class="step">
    <div class="step-num">3</div>
    <div class="step-body">
      <div class="step-title">ä½¿ç”¨æ–¹æ³•</div>
      <div class="step-desc">åœ¨ç”µè„‘æµè§ˆå™¨æ‰“å¼€å…¬ä¼—å·æ–‡ç« ï¼ˆåå°é¢„è§ˆæˆ–è¯»è€…é¡µé¢å‡å¯ï¼‰ï¼Œç­‰é¡µé¢å®Œå…¨åŠ è½½åï¼Œç‚¹ä¹¦ç­¾æ çš„ã€Œå‘å¸ƒåˆ°ç™¾å€æœºä¼šæ”»ç•¥ã€ï¼Œå¡«å¥½æ‘˜è¦å’Œæ ‡ç­¾åç‚¹å‘å¸ƒã€‚</div>
    </div>
  </div>

  <hr class="divider">

  <div class="tip">
    <strong>æ³¨æ„äº‹é¡¹</strong><br>
    Â· éœ€è¦åœ¨<strong>ç”µè„‘æµè§ˆå™¨</strong>æ‰“å¼€æ–‡ç« ï¼Œæ‰‹æœºä¸æ”¯æŒ<br>
    Â· å¾®ä¿¡å›¾ç‰‡æœ‰é˜²ç›—é“¾ï¼Œæ–‡ç« å›¾ç‰‡åœ¨ä½ ç½‘ç«™ä¸Šå¯èƒ½ä¸æ˜¾ç¤ºï¼Œå»ºè®®å¦å¤–ä¸Šä¼ å°é¢<br>
    Â· å‘å¸ƒæˆåŠŸååˆ·æ–° www.baibei.xyz å³å¯çœ‹åˆ°æ–°æ–‡ç« 
  </div>
</div>
</body>
</html>